<script>
    async function sendQuestion() {
        const question = document.getElementById("question").value;
        const chatBox = document.getElementById("chat-box");

        // Display user message
        chatBox.innerHTML += `<div class='user-msg'>üë©‚Äçüëß‚Äçüë¶ You: ${question}</div>`;

        // Send to backend
        const res = await fetch("/ask", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({question})
        });

        const data = await res.json();

        // Display bot reply (check for error or valid answer)
        if (data.answer) {
            chatBox.innerHTML += `<div class='bot-msg'>ü§ñ Little Love: ${data.answer}</div>`;
        } else if (data.error) {
            chatBox.innerHTML += `<div class='bot-msg error'>‚ö†Ô∏è Error: ${data.error}</div>`;
        } else {
            chatBox.innerHTML += `<div class='bot-msg error'>‚ö†Ô∏è Unknown error occurred.</div>`;
        }

        document.getElementById("question").value = "";
        chatBox.scrollTop = chatBox.scrollHeight;
    }
</script>
